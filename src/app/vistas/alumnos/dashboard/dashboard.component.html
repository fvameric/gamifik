<app-header></app-header>
<div class="main-separador">
    <div class="separador1">
        <div class="sidebar">
            <div class="cabecera-mis-rankings">
                <h2>Mis Rankings</h2>
                <button class="unirse-ranking" [disabled]="!loaded" (click)="unirseRanking()">
                    Unirse
                </button>
            </div>
            <div class="no-ranks" *ngIf="flagRanks;else tieneRankings">
                <p>No tiene rankings</p>
            </div>
            <div class="lista-rankings">
                <ng-template #tieneRankings>
                    <app-loader-skeleton Cwidth="255" Cheight="50" *ngIf="!loaded"></app-loader-skeleton>
                    <div class="array-rankings" *ngIf="loaded">
                        <div *ngFor="let rank of arrRankings; let i = index" class="rank">
                            <div class="pendienteFlex" *ngIf="flagPendiente && rank.aceptado == 0; else noPendiente">
                                <p>{{rank.nom_rank}}</p>
                                <button class="btn-pendiente" (click)="checkPendiente(rank)">
                                    <svg width="24px" height="24px" viewBox="0 0 24 24"
                                        xmlns="http://www.w3.org/2000/svg">
                                        <defs>
                                            <style>
                                                .a,
                                                .b {
                                                    fill: none;
                                                    stroke: #000;
                                                    stroke-linecap: round;
                                                    stroke-width: 1.5px;
                                                }

                                                .a {
                                                    stroke-linejoin: round;
                                                }

                                                .b {
                                                    stroke-linejoin: bevel;
                                                }
                                            </style>
                                        </defs>
                                        <path class="a"
                                            d="M2.5,21.02394l.78984-2.87249C4.5964,13.39978,8.0482,10.992,11.5,10.992" />
                                        <circle class="b" cx="11.5" cy="5.99202" r="5" />
                                        <circle class="a" cx="16.5" cy="18.00798" r="5" />
                                        <polyline class="a" points="16.202 15.383 16.202 18.362 19.128 18.362" />
                                    </svg>
                                </button>
                            </div>
                            <ng-template #noPendiente>
                                <button class="button-ranking-class"
                                    (click)="rankSelec(rank)">{{rank.nom_rank}}</button>
                            </ng-template>
                        </div>
                    </div>
                </ng-template>
            </div>
        </div>
    </div>

    <div class="separador2">
        <div class="info-rankings">
            <div class="titulo-detalle-ranking" *ngIf="rankSeleccionado;else noselec">
                <h1>Ranking</h1>
                <h3>{{rankSeleccionado.nom_rank}}</h3>
            </div>
            <ng-template #noselec>
                <div class="titulo-detalle-ranking">
                    <h1>Ranking</h1>
                    <p>No se seleccionó ningún ranking</p>
                </div>
            </ng-template>
            <div class="alumnos-ranking">
                <app-loader-skeleton Cwidth="192" Cheight="20" *ngIf="!loaded"></app-loader-skeleton>
                <div class="table-element" *ngFor="let alumno of listaAlumnos; let i = index">
                    <div class="table-num">
                        {{i+1}}
                    </div>
                    <div class="table-imagen">
                        <img src="{{alumno.imagen}}">
                    </div>
                    <div class="table-nombre">
                        {{alumno.nombre}}
                    </div>
                    <div class="table-apellidos">
                        {{alumno.apellidos}}
                    </div>
                    <div class="table-puntuacion">
                        {{alumno.puntuacion}}
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>